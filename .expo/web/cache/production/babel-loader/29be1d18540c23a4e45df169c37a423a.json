{"ast":null,"code":"import{useEffect}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import{useSelector,useDispatch}from'react-redux';import{Colors}from\"../../../redux/slices/settings\";import{SetAccuracy}from\"../../../redux/slices/stats\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function InfoBar(_ref){var totalCount=_ref.totalCount,correctAnswers=_ref.correctAnswers;var dispatch=useDispatch();var shownQuestion=useSelector(function(state){return state.quiz.shownQuestion;});var colors=useSelector(Colors);var selectedChoices=useSelector(function(state){return state.quiz.selectedChoices;});var correctAnswersTrimmed=correctAnswers.slice(0,selectedChoices.length);var differenceArray=correctAnswersTrimmed.map(function(answer,i){return answer-selectedChoices[i];});var _ref2=[useSelector(function(state){return state.stats.accuracy;}),function(payload){return dispatch(SetAccuracy(payload));}],accuracy=_ref2[0],setAccuracy=_ref2[1];useEffect(function(){if(selectedChoices.length>0){var acc=Math.ceil(differenceArray.filter(function(v){return v===0;}).length/selectedChoices.length*100);setAccuracy(acc);}},[selectedChoices]);return _jsxs(View,{style:styles.infoBar,children:[_jsx(View,{children:_jsxs(Text,{style:[styles.infoItem,{backgroundColor:colors.light,color:colors.dark,borderColor:colors.border,marginLeft:'auto'}],children:[\" \",_jsx(Text,{style:styles.Q,children:\"Question\"}),\" \",shownQuestion+1,\"/\",totalCount]})}),_jsx(View,{children:_jsxs(Text,{style:[styles.infoItem,{backgroundColor:colors.light,color:colors.dark,borderColor:colors.border,marginRight:'auto'}],children:[\"\\uD83D\\uDCC8 \",accuracy=='-.0%'?'-':accuracy,\"  \"]})})]});}var styles=StyleSheet.create({infoBar:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginTop:40,width:'93%'},infoItem:{padding:10,borderRadius:20,borderWidth:0.8,fontFamily:'Poppins-Bold',marginHorizontal:16}});","map":{"version":3,"names":["useEffect","useSelector","useDispatch","Colors","SetAccuracy","InfoBar","totalCount","correctAnswers","dispatch","shownQuestion","state","quiz","colors","selectedChoices","correctAnswersTrimmed","slice","length","differenceArray","map","answer","i","stats","accuracy","payload","setAccuracy","acc","Math","ceil","filter","v","styles","infoBar","infoItem","backgroundColor","light","color","dark","borderColor","border","marginLeft","Q","marginRight","StyleSheet","create","flexDirection","justifyContent","alignItems","marginTop","width","padding","borderRadius","borderWidth","fontFamily","marginHorizontal"],"sources":["/Users/essam/Documents/GitHub/Quizzery-React-Native/components/QuizScreen/subcomponents/InfoBar.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Colors } from '../../../redux/slices/settings';\nimport { SetAccuracy } from '../../../redux/slices/stats';\nexport default function InfoBar({ totalCount, correctAnswers}){\n  const dispatch = useDispatch();\n  const shownQuestion = useSelector(state => state.quiz.shownQuestion)\n  const colors = useSelector(Colors)\n  const selectedChoices = useSelector(state => state.quiz.selectedChoices);\n  let correctAnswersTrimmed = correctAnswers.slice(0, selectedChoices.length);\n  let differenceArray = correctAnswersTrimmed.map(function (answer, i) {\n    return answer - selectedChoices[i];\n  })\n  const [accuracy, setAccuracy] = [ useSelector(state => state.stats.accuracy), (payload)=> dispatch(SetAccuracy(payload))];\n  useEffect(() => {\n  if (selectedChoices.length > 0) {\n    let acc = Math.ceil((differenceArray.filter(v => v === 0).length / selectedChoices.length) * 100)\n    setAccuracy(acc);\n  }}, [selectedChoices]);\n\n   return (\n     <View style={styles.infoBar}>\n     <View>\n       <Text style={[styles.infoItem,{backgroundColor: colors.light, color: colors.dark, borderColor: colors.border, marginLeft: 'auto'}]}> <Text style={styles.Q}>Question</Text> {shownQuestion+1}/{totalCount}</Text>\n     </View>\n\n     <View>\n       <Text style={[styles.infoItem,{backgroundColor: colors.light, color: colors.dark, borderColor: colors.border, marginRight: 'auto'}]}>ðŸ“ˆ {(accuracy=='-.0%')?('-'):(accuracy)}  </Text>\n     </View>\n   </View>\n   )\n }\n\n const styles = StyleSheet.create({\n   infoBar: {\n     flexDirection: 'row',\n     justifyContent: 'space-between',\n     alignItems: 'center',\n     marginTop: 40,\n     width: '93%',\n   },\n   infoItem: {\n     padding: 10,\n     borderRadius: 20,\n     borderWidth: 0.8,\n     fontFamily: 'Poppins-Bold',\n     marginHorizontal: 16\n   },\n \n   \n });\n "],"mappings":"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"},"metadata":{},"sourceType":"module"}